{
  "metadata": {
    "generated_at": "2025-08-08T13:28:54.197687",
    "database_url": "postgresql://vancimj:***@localhost:5432/whats_agent",
    "total_tables": 19,
    "analysis_date": "2025-08-08 13:28:54"
  },
  "database_schema": {
    "alembic_version": {
      "columns": [
        {
          "name": "version_num",
          "type": "VARCHAR(32)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "version_num"
        ],
        "name": "alembic_version_pkc",
        "comment": null
      },
      "foreign_keys": [],
      "indexes": []
    },
    "admins": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('admins_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "username",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "email",
          "type": "VARCHAR(255)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "hashed_password",
          "type": "VARCHAR(255)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "admins_pkey",
        "comment": null
      },
      "foreign_keys": [],
      "indexes": [
        {
          "name": "admins_email_key",
          "unique": true,
          "column_names": [
            "email"
          ],
          "duplicates_constraint": "admins_email_key",
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        },
        {
          "name": "admins_username_key",
          "unique": true,
          "column_names": [
            "username"
          ],
          "duplicates_constraint": "admins_username_key",
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        },
        {
          "name": "ix_admins_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "meta_logs": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('meta_logs_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "direction",
          "type": "VARCHAR(10)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "endpoint",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "method",
          "type": "VARCHAR(10)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "status_code",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "headers",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "payload",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "response",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "meta_logs_pkey",
        "comment": null
      },
      "foreign_keys": [],
      "indexes": [
        {
          "name": "ix_meta_logs_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "users": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('users_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "wa_id",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "nome",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "telefone",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "email",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "users_pkey",
        "comment": null
      },
      "foreign_keys": [],
      "indexes": [
        {
          "name": "ix_users_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        },
        {
          "name": "ix_users_wa_id",
          "unique": true,
          "column_names": [
            "wa_id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "conversations": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('conversations_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "status",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "last_message_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "conversations_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "conversations_user_id_fkey",
          "constrained_columns": [
            "user_id"
          ],
          "referred_schema": null,
          "referred_table": "users",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "ix_conversations_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        },
        {
          "name": "ix_conversations_last_message_at",
          "unique": false,
          "column_names": [
            "last_message_at"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        },
        {
          "name": "ix_conversations_status",
          "unique": false,
          "column_names": [
            "status"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "messages": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('messages_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "conversation_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "direction",
          "type": "VARCHAR(10)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "message_id",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "content",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "message_type",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "raw_payload",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "messages_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "messages_conversation_id_fkey",
          "constrained_columns": [
            "conversation_id"
          ],
          "referred_schema": null,
          "referred_table": "conversations",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        },
        {
          "name": "messages_user_id_fkey",
          "constrained_columns": [
            "user_id"
          ],
          "referred_schema": null,
          "referred_table": "users",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "ix_messages_created_at",
          "unique": false,
          "column_names": [
            "created_at"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        },
        {
          "name": "ix_messages_direction",
          "unique": false,
          "column_names": [
            "direction"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        },
        {
          "name": "ix_messages_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        },
        {
          "name": "ix_messages_message_id",
          "unique": false,
          "column_names": [
            "message_id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        },
        {
          "name": "ix_messages_message_type",
          "unique": false,
          "column_names": [
            "message_type"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "bot_configurations": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('bot_configurations_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "business_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "min_advance_booking_hours",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "max_advance_booking_days",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "auto_confirm_bookings",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "slot_duration_minutes",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "break_between_appointments_minutes",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "send_confirmation_messages",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "send_reminder_messages",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "reminder_hours_before",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "max_retries_data_collection",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "timeout_minutes_user_response",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "enable_human_handoff",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "auto_response_enabled",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "response_delay_min",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "response_delay_max",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "max_retries",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "language",
          "type": "VARCHAR(10)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "timezone",
          "type": "VARCHAR(50)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "max_message_length",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "working_hours_only",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "weekend_support",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "appointment_enabled",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "max_appointments_per_day",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "appointment_buffer_minutes",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "notification_lead_time_hours",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "follow_up_enabled",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "follow_up_delay_minutes",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "data_collection_enabled",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "required_fields",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "optional_fields",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "bot_configurations_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "bot_configurations_business_id_fkey",
          "constrained_columns": [
            "business_id"
          ],
          "referred_schema": null,
          "referred_table": "businesses",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "ix_bot_configurations_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "appointments": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('appointments_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "date_time",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "status",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "notes",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "business_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "service_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "end_time",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "customer_notes",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "admin_notes",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "cancelled_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "cancellation_reason",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "cancelled_by",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "confirmed_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "confirmed_by",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "price_at_booking",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "appointments_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "appointments_business_id_fkey",
          "constrained_columns": [
            "business_id"
          ],
          "referred_schema": null,
          "referred_table": "businesses",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        },
        {
          "name": "appointments_service_id_fkey",
          "constrained_columns": [
            "service_id"
          ],
          "referred_schema": null,
          "referred_table": "services",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        },
        {
          "name": "appointments_user_id_fkey",
          "constrained_columns": [
            "user_id"
          ],
          "referred_schema": null,
          "referred_table": "users",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "ix_appointments_date_time",
          "unique": false,
          "column_names": [
            "date_time"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        },
        {
          "name": "ix_appointments_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        },
        {
          "name": "ix_appointments_status",
          "unique": false,
          "column_names": [
            "status"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "businesses": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('businesses_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "name",
          "type": "VARCHAR(255)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "phone",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "email",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "address",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "description",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "business_hours",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "businesses_pkey",
        "comment": null
      },
      "foreign_keys": [],
      "indexes": [
        {
          "name": "ix_businesses_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "payment_methods": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('payment_methods_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "business_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "name",
          "type": "VARCHAR(100)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "nullable": false,
          "default": "true",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "description",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "additional_info",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "display_order",
          "type": "INTEGER",
          "nullable": true,
          "default": "0",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "payment_methods_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "payment_methods_business_id_fkey",
          "constrained_columns": [
            "business_id"
          ],
          "referred_schema": null,
          "referred_table": "businesses",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_payment_methods_business",
          "unique": false,
          "column_names": [
            "business_id",
            "is_active"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "services": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('services_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "business_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "name",
          "type": "VARCHAR(255)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "description",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "duration_minutes",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "price",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "services_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "services_business_id_fkey",
          "constrained_columns": [
            "business_id"
          ],
          "referred_schema": null,
          "referred_table": "businesses",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "ix_services_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "blocked_times": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('blocked_times_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "business_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "start_time",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "end_time",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "reason",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "block_type",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "is_recurring",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "recurrence_pattern",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_by",
          "type": "VARCHAR(50)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "start_date",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "end_date",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "blocked_times_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "blocked_times_business_id_fkey",
          "constrained_columns": [
            "business_id"
          ],
          "referred_schema": null,
          "referred_table": "businesses",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "ix_blocked_times_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "business_hours": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('business_hours_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "business_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "day_of_week",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "is_open",
          "type": "BOOLEAN",
          "nullable": false,
          "default": "true",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "open_time",
          "type": "TIME",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "close_time",
          "type": "TIME",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "break_start_time",
          "type": "TIME",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "break_end_time",
          "type": "TIME",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "notes",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "business_hours_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "business_hours_business_id_fkey",
          "constrained_columns": [
            "business_id"
          ],
          "referred_schema": null,
          "referred_table": "businesses",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_business_hours_business_day",
          "unique": false,
          "column_names": [
            "business_id",
            "day_of_week"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "business_policies": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('business_policies_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "business_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "policy_type",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "title",
          "type": "VARCHAR(200)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "description",
          "type": "TEXT",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "rules",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "nullable": false,
          "default": "true",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "business_policies_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "business_policies_business_id_fkey",
          "constrained_columns": [
            "business_id"
          ],
          "referred_schema": null,
          "referred_table": "businesses",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_business_policies_business_type",
          "unique": false,
          "column_names": [
            "business_id",
            "policy_type",
            "is_active"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "company_info": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('company_info_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "business_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "company_name",
          "type": "VARCHAR(255)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "slogan",
          "type": "VARCHAR(500)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "about_us",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "whatsapp_number",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "phone_secondary",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "email_contact",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "website",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "street_address",
          "type": "VARCHAR(500)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "city",
          "type": "VARCHAR(100)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "state",
          "type": "VARCHAR(50)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "zip_code",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "country",
          "type": "VARCHAR(50)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "instagram",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "facebook",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "linkedin",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "welcome_message",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "auto_response_enabled",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "business_description",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "company_info_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "company_info_business_id_fkey",
          "constrained_columns": [
            "business_id"
          ],
          "referred_schema": null,
          "referred_table": "businesses",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "ix_company_info_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "message_templates": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('message_templates_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "business_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "template_key",
          "type": "VARCHAR(100)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "template_name",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "template_content",
          "type": "TEXT",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "available_variables",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "category",
          "type": "VARCHAR(50)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "message_templates_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "message_templates_business_id_fkey",
          "constrained_columns": [
            "business_id"
          ],
          "referred_schema": null,
          "referred_table": "businesses",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "ix_message_templates_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "available_slots": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('available_slots_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "business_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "service_id",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "duration_minutes",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "is_available",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "is_blocked",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "blocked_reason",
          "type": "VARCHAR(255)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "day_of_week",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "slot_time",
          "type": "VARCHAR(5)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "date",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "start_time",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "end_time",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "max_appointments",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "current_appointments",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "available_slots_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "available_slots_business_id_fkey",
          "constrained_columns": [
            "business_id"
          ],
          "referred_schema": null,
          "referred_table": "businesses",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        },
        {
          "name": "available_slots_service_id_fkey",
          "constrained_columns": [
            "service_id"
          ],
          "referred_schema": null,
          "referred_table": "services",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "ix_available_slots_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "customer_data_collection": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('customer_data_collection_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "collection_status",
          "type": "VARCHAR(20)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "has_name",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "has_email",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "has_phone",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "name_attempts",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "email_attempts",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "phone_attempts",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "collection_method",
          "type": "VARCHAR(50)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "notes",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "last_attempt_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "completed_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "customer_data_collection_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "customer_data_collection_user_id_fkey",
          "constrained_columns": [
            "user_id"
          ],
          "referred_schema": null,
          "referred_table": "users",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "ix_customer_data_collection_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    },
    "conversation_contexts": {
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('conversation_contexts_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "conversation_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "current_state",
          "type": "VARCHAR(50)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "previous_state",
          "type": "VARCHAR(50)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "temp_data",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "collected_data",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "booking_data",
          "type": "JSON",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "retry_count",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "max_retries",
          "type": "INTEGER",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "awaiting_response",
          "type": "BOOLEAN",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "awaiting_response_for",
          "type": "VARCHAR(100)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "state_changed_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "last_interaction_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "id"
        ],
        "name": "conversation_contexts_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "conversation_contexts_conversation_id_fkey",
          "constrained_columns": [
            "conversation_id"
          ],
          "referred_schema": null,
          "referred_table": "conversations",
          "referred_columns": [
            "id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "ix_conversation_contexts_id",
          "unique": false,
          "column_names": [
            "id"
          ],
          "include_columns": [],
          "dialect_options": {
            "postgresql_include": []
          }
        }
      ]
    }
  },
  "current_data_samples": {},
  "test_data": {
    "users": [
      {
        "wa_id": "5511999887766",
        "nome": "João Silva",
        "telefone": "+5511999887766",
        "email": "joao.silva@email.com",
        "created_at": "2025-08-08T13:28:54.197624"
      },
      {
        "wa_id": "5511988776655",
        "nome": "Maria Santos",
        "telefone": "+5511988776655",
        "email": "maria.santos@email.com",
        "created_at": "2025-08-07T13:28:54.197630"
      },
      {
        "wa_id": "5511977665544",
        "nome": "Pedro Costa",
        "telefone": "+5511977665544",
        "email": "pedro.costa@email.com",
        "created_at": "2025-08-06T13:28:54.197635"
      },
      {
        "wa_id": "5511966554433",
        "nome": "Ana Oliveira",
        "telefone": "+5511966554433",
        "email": "ana.oliveira@email.com",
        "created_at": "2025-08-03T13:28:54.197636"
      },
      {
        "wa_id": "5511955443322",
        "nome": "Carlos Pereira",
        "telefone": "+5511955443322",
        "email": "carlos.pereira@email.com",
        "created_at": "2025-07-29T13:28:54.197638"
      }
    ],
    "conversations": [
      {
        "user_id": 1,
        "status": "ativa",
        "created_at": "2025-08-08T13:28:54.197640",
        "updated_at": "2025-08-08T13:28:54.197640",
        "last_message_at": "2025-08-08T13:28:54.197641"
      },
      {
        "user_id": 2,
        "status": "finalizada",
        "created_at": "2025-08-08T11:28:54.197642",
        "updated_at": "2025-08-08T12:28:54.197644",
        "last_message_at": "2025-08-08T12:28:54.197646"
      },
      {
        "user_id": 3,
        "status": "aguardando",
        "created_at": "2025-08-08T07:28:54.197647",
        "updated_at": "2025-08-08T10:28:54.197648",
        "last_message_at": "2025-08-08T10:28:54.197650"
      }
    ],
    "messages": [
      {
        "user_id": 1,
        "conversation_id": 1,
        "direction": "in",
        "message_id": "wamid.test_001",
        "content": "Olá! Gostaria de agendar um horário para corte de cabelo",
        "message_type": "text",
        "created_at": "2025-08-08T13:28:54.197651"
      },
      {
        "user_id": 1,
        "conversation_id": 1,
        "direction": "out",
        "message_id": "wamid.test_002",
        "content": "Olá João! Claro, vou te ajudar com o agendamento. Qual dia você prefere?",
        "message_type": "text",
        "created_at": "2025-08-08T13:29:24.197653"
      },
      {
        "user_id": 2,
        "conversation_id": 2,
        "direction": "in",
        "message_id": "wamid.test_003",
        "content": "Quais serviços vocês oferecem?",
        "message_type": "text",
        "created_at": "2025-08-08T11:28:54.197655"
      },
      {
        "user_id": 3,
        "conversation_id": 3,
        "direction": "in",
        "message_id": "wamid.test_004",
        "content": "Preciso cancelar meu agendamento de amanhã",
        "message_type": "text",
        "created_at": "2025-08-08T07:28:54.197657"
      }
    ],
    "services": [
      {
        "name": "Corte Masculino",
        "description": "Corte de cabelo masculino tradicional e moderno",
        "price": 35.0,
        "duration": 30,
        "active": true,
        "created_at": "2025-07-09T13:28:54.197658"
      },
      {
        "name": "Barba",
        "description": "Aparar e modelar barba com navalha",
        "price": 25.0,
        "duration": 20,
        "active": true,
        "created_at": "2025-07-09T13:28:54.197660"
      },
      {
        "name": "Corte + Barba",
        "description": "Combo completo: corte de cabelo + barba",
        "price": 50.0,
        "duration": 45,
        "active": true,
        "created_at": "2025-07-09T13:28:54.197662"
      },
      {
        "name": "Sobrancelha",
        "description": "Design e limpeza de sobrancelhas masculinas",
        "price": 15.0,
        "duration": 15,
        "active": true,
        "created_at": "2025-07-09T13:28:54.197666"
      }
    ],
    "appointments": [
      {
        "user_id": 1,
        "service_id": 1,
        "date_time": "2025-08-09T23:28:54.197668",
        "status": "confirmado",
        "notes": "Cliente preferencial - corte degradê",
        "created_at": "2025-08-08T13:28:54.197670"
      },
      {
        "user_id": 2,
        "service_id": 3,
        "date_time": "2025-08-11T03:28:54.197671",
        "status": "pendente",
        "notes": "Primeira vez na barbearia",
        "created_at": "2025-08-08T12:28:54.197672"
      },
      {
        "user_id": 4,
        "service_id": 2,
        "date_time": "2025-08-06T21:28:54.197674",
        "status": "concluido",
        "notes": "Cliente satisfeito",
        "created_at": "2025-08-06T13:28:54.197675"
      }
    ],
    "company_info": [
      {
        "name": "Barbearia do João",
        "address": "Rua das Flores, 123 - Centro",
        "phone": "+5511999887766",
        "email": "contato@barbeariajao.com.br",
        "description": "A melhor barbearia da região, com profissionais experientes",
        "created_at": "2025-04-30T13:28:54.197677"
      }
    ],
    "business_hours": [
      {
        "day_of_week": 1,
        "open_time": "09:00",
        "close_time": "19:00",
        "is_open": true
      },
      {
        "day_of_week": 2,
        "open_time": "09:00",
        "close_time": "19:00",
        "is_open": true
      },
      {
        "day_of_week": 3,
        "open_time": "09:00",
        "close_time": "19:00",
        "is_open": true
      },
      {
        "day_of_week": 4,
        "open_time": "09:00",
        "close_time": "19:00",
        "is_open": true
      },
      {
        "day_of_week": 5,
        "open_time": "09:00",
        "close_time": "20:00",
        "is_open": true
      },
      {
        "day_of_week": 6,
        "open_time": "08:00",
        "close_time": "17:00",
        "is_open": true
      },
      {
        "day_of_week": 0,
        "open_time": null,
        "close_time": null,
        "is_open": false
      }
    ]
  },
  "test_scenarios": {
    "new_customer_discovery": {
      "description": "Cliente novo descobrindo serviços",
      "user": {
        "wa_id": "5511999887766",
        "nome": "João Silva",
        "telefone": "+5511999887766",
        "email": "joao.silva@email.com",
        "created_at": "2025-08-08T13:28:54.197624"
      },
      "messages_flow": [
        {
          "direction": "in",
          "content": "Olá"
        },
        {
          "direction": "out",
          "content": "Olá! Bem-vindo à Barbearia do João! Como posso ajudá-lo?"
        },
        {
          "direction": "in",
          "content": "Que serviços vocês fazem?"
        },
        {
          "direction": "out",
          "content": "Oferecemos: Corte Masculino (R$ 35), Barba (R$ 25), Corte + Barba (R$ 50), Sobrancelha (R$ 15)"
        },
        {
          "direction": "in",
          "content": "Qual o horário de funcionamento?"
        },
        {
          "direction": "out",
          "content": "Funcionamos de Segunda a Sábado: Seg-Sex: 9h às 19h, Sáb: 8h às 17h. Domingo fechado."
        }
      ]
    },
    "complete_booking_workflow": {
      "description": "Fluxo completo de agendamento",
      "user": {
        "wa_id": "5511988776655",
        "nome": "Maria Santos",
        "telefone": "+5511988776655",
        "email": "maria.santos@email.com",
        "created_at": "2025-08-07T13:28:54.197630"
      },
      "messages_flow": [
        {
          "direction": "in",
          "content": "Quero agendar um corte"
        },
        {
          "direction": "out",
          "content": "Perfeito! Qual serviço você gostaria? 1) Corte Masculino 2) Corte + Barba"
        },
        {
          "direction": "in",
          "content": "1"
        },
        {
          "direction": "out",
          "content": "Ótima escolha! Para quando você gostaria de agendar?"
        },
        {
          "direction": "in",
          "content": "Amanhã de manhã"
        },
        {
          "direction": "out",
          "content": "Tenho disponível amanhã às 10h, 11h ou 14h. Qual prefere?"
        },
        {
          "direction": "in",
          "content": "10h"
        },
        {
          "direction": "out",
          "content": "Agendamento confirmado! João Silva - Corte Masculino - Amanhã às 10h. Te envio lembrete 1h antes!"
        }
      ]
    },
    "handoff_scenario": {
      "description": "Cenário que necessita transferência para humano",
      "user": {
        "wa_id": "5511977665544",
        "nome": "Pedro Costa",
        "telefone": "+5511977665544",
        "email": "pedro.costa@email.com",
        "created_at": "2025-08-06T13:28:54.197635"
      },
      "messages_flow": [
        {
          "direction": "in",
          "content": "Vocês cortaram meu cabelo errado ontem!"
        },
        {
          "direction": "out",
          "content": "Sinto muito pelo ocorrido! Vou transferir você para nosso atendente para resolver isso da melhor forma."
        },
        {
          "direction": "in",
          "content": "Quero meu dinheiro de volta"
        },
        {
          "direction": "out",
          "content": "Entendo sua frustração. Um atendente humano vai cuidar do seu caso agora. Aguarde um momento."
        }
      ]
    },
    "rate_limit_test": {
      "description": "Teste de rate limiting",
      "user": {
        "wa_id": "5511966554433",
        "nome": "Ana Oliveira",
        "telefone": "+5511966554433",
        "email": "ana.oliveira@email.com",
        "created_at": "2025-08-03T13:28:54.197636"
      },
      "rapid_messages": [
        "Oi",
        "Olá",
        "Hey",
        "Alguém aí?",
        "Urgente!",
        "Preciso agendar",
        "Rápido",
        "Agora",
        "Por favor",
        "Ei!"
      ]
    },
    "vip_customer_crewai": {
      "description": "Cliente VIP que deve acionar CrewAI",
      "user": {
        "wa_id": "5511955443322",
        "nome": "Carlos Pereira",
        "telefone": "+5511955443322",
        "email": "carlos.pereira@email.com",
        "created_at": "2025-07-29T13:28:54.197638"
      },
      "messages_flow": [
        {
          "direction": "in",
          "content": "Olá, sou cliente há 5 anos e gostaria de um atendimento especial para meu casamento"
        },
        {
          "direction": "out",
          "content": "Olá Carlos! É um prazer atendê-lo! Para seu casamento, vou acionar nossa equipe especializada..."
        },
        {
          "direction": "in",
          "content": "Preciso de corte, barba, sobrancelha e talvez algum tratamento especial"
        },
        {
          "direction": "out",
          "content": "Perfeito! Vou montar um pacote especial para você..."
        }
      ]
    }
  },
  "api_endpoints": {
    "webhook": "/webhook",
    "health": "/health",
    "metrics": "/metrics",
    "conversations": "/conversations",
    "users": "/users",
    "appointments": "/appointments",
    "services": "/services"
  },
  "backend_urls": {
    "fastapi": "http://localhost:8000",
    "dashboard": "http://localhost:8501",
    "webhook_test": "http://localhost:8000/webhook"
  }
}