{
  "timestamp": "2025-08-14T01:18:56.983321",
  "database_info": {
    "postgresql_version": "PostgreSQL 16.8 (Debian 16.8-1.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit",
    "current_database": "railway",
    "timezone": "Etc/UTC"
  },
  "schema_analysis": {
    "total_tables": 20,
    "table_list": [
      {
        "name": "admin_users",
        "type": "BASE TABLE"
      },
      {
        "name": "admins",
        "type": "BASE TABLE"
      },
      {
        "name": "appointments",
        "type": "BASE TABLE"
      },
      {
        "name": "available_slots",
        "type": "BASE TABLE"
      },
      {
        "name": "blocked_times",
        "type": "BASE TABLE"
      },
      {
        "name": "bot_configurations",
        "type": "BASE TABLE"
      },
      {
        "name": "business_hours",
        "type": "BASE TABLE"
      },
      {
        "name": "business_policies",
        "type": "BASE TABLE"
      },
      {
        "name": "businesses",
        "type": "BASE TABLE"
      },
      {
        "name": "company_info",
        "type": "BASE TABLE"
      },
      {
        "name": "conversation_contexts",
        "type": "BASE TABLE"
      },
      {
        "name": "conversations",
        "type": "BASE TABLE"
      },
      {
        "name": "customer_data_collection",
        "type": "BASE TABLE"
      },
      {
        "name": "login_sessions",
        "type": "BASE TABLE"
      },
      {
        "name": "message_templates",
        "type": "BASE TABLE"
      },
      {
        "name": "messages",
        "type": "BASE TABLE"
      },
      {
        "name": "meta_logs",
        "type": "BASE TABLE"
      },
      {
        "name": "payment_methods",
        "type": "BASE TABLE"
      },
      {
        "name": "services",
        "type": "BASE TABLE"
      },
      {
        "name": "users",
        "type": "BASE TABLE"
      }
    ],
    "total_indexes": 54,
    "indexes": [
      {
        "table": "admin_users",
        "name": "admin_users_pkey",
        "definition": "CREATE UNIQUE INDEX admin_users_pkey ON public.admin_users USING btree (id)"
      },
      {
        "table": "admin_users",
        "name": "ix_admin_users_email",
        "definition": "CREATE UNIQUE INDEX ix_admin_users_email ON public.admin_users USING btree (email)"
      },
      {
        "table": "admin_users",
        "name": "ix_admin_users_id",
        "definition": "CREATE INDEX ix_admin_users_id ON public.admin_users USING btree (id)"
      },
      {
        "table": "admin_users",
        "name": "ix_admin_users_username",
        "definition": "CREATE UNIQUE INDEX ix_admin_users_username ON public.admin_users USING btree (username)"
      },
      {
        "table": "admins",
        "name": "admins_email_key",
        "definition": "CREATE UNIQUE INDEX admins_email_key ON public.admins USING btree (email)"
      },
      {
        "table": "admins",
        "name": "admins_pkey",
        "definition": "CREATE UNIQUE INDEX admins_pkey ON public.admins USING btree (id)"
      },
      {
        "table": "admins",
        "name": "admins_username_key",
        "definition": "CREATE UNIQUE INDEX admins_username_key ON public.admins USING btree (username)"
      },
      {
        "table": "admins",
        "name": "ix_admins_id",
        "definition": "CREATE INDEX ix_admins_id ON public.admins USING btree (id)"
      },
      {
        "table": "appointments",
        "name": "appointments_pkey",
        "definition": "CREATE UNIQUE INDEX appointments_pkey ON public.appointments USING btree (id)"
      },
      {
        "table": "appointments",
        "name": "ix_appointments_date_time",
        "definition": "CREATE INDEX ix_appointments_date_time ON public.appointments USING btree (date_time)"
      },
      {
        "table": "appointments",
        "name": "ix_appointments_id",
        "definition": "CREATE INDEX ix_appointments_id ON public.appointments USING btree (id)"
      },
      {
        "table": "appointments",
        "name": "ix_appointments_status",
        "definition": "CREATE INDEX ix_appointments_status ON public.appointments USING btree (status)"
      },
      {
        "table": "available_slots",
        "name": "available_slots_pkey",
        "definition": "CREATE UNIQUE INDEX available_slots_pkey ON public.available_slots USING btree (id)"
      },
      {
        "table": "available_slots",
        "name": "ix_available_slots_id",
        "definition": "CREATE INDEX ix_available_slots_id ON public.available_slots USING btree (id)"
      },
      {
        "table": "blocked_times",
        "name": "blocked_times_pkey",
        "definition": "CREATE UNIQUE INDEX blocked_times_pkey ON public.blocked_times USING btree (id)"
      },
      {
        "table": "blocked_times",
        "name": "ix_blocked_times_id",
        "definition": "CREATE INDEX ix_blocked_times_id ON public.blocked_times USING btree (id)"
      },
      {
        "table": "bot_configurations",
        "name": "bot_configurations_pkey",
        "definition": "CREATE UNIQUE INDEX bot_configurations_pkey ON public.bot_configurations USING btree (id)"
      },
      {
        "table": "bot_configurations",
        "name": "ix_bot_configurations_id",
        "definition": "CREATE INDEX ix_bot_configurations_id ON public.bot_configurations USING btree (id)"
      },
      {
        "table": "business_hours",
        "name": "business_hours_pkey",
        "definition": "CREATE UNIQUE INDEX business_hours_pkey ON public.business_hours USING btree (id)"
      },
      {
        "table": "business_hours",
        "name": "idx_business_hours_business_day",
        "definition": "CREATE INDEX idx_business_hours_business_day ON public.business_hours USING btree (business_id, day_of_week)"
      },
      {
        "table": "business_policies",
        "name": "business_policies_pkey",
        "definition": "CREATE UNIQUE INDEX business_policies_pkey ON public.business_policies USING btree (id)"
      },
      {
        "table": "business_policies",
        "name": "idx_business_policies_business_type",
        "definition": "CREATE INDEX idx_business_policies_business_type ON public.business_policies USING btree (business_id, policy_type, is_active)"
      },
      {
        "table": "businesses",
        "name": "businesses_pkey",
        "definition": "CREATE UNIQUE INDEX businesses_pkey ON public.businesses USING btree (id)"
      },
      {
        "table": "businesses",
        "name": "ix_businesses_id",
        "definition": "CREATE INDEX ix_businesses_id ON public.businesses USING btree (id)"
      },
      {
        "table": "company_info",
        "name": "company_info_pkey",
        "definition": "CREATE UNIQUE INDEX company_info_pkey ON public.company_info USING btree (id)"
      },
      {
        "table": "company_info",
        "name": "ix_company_info_id",
        "definition": "CREATE INDEX ix_company_info_id ON public.company_info USING btree (id)"
      },
      {
        "table": "conversation_contexts",
        "name": "conversation_contexts_pkey",
        "definition": "CREATE UNIQUE INDEX conversation_contexts_pkey ON public.conversation_contexts USING btree (id)"
      },
      {
        "table": "conversation_contexts",
        "name": "ix_conversation_contexts_id",
        "definition": "CREATE INDEX ix_conversation_contexts_id ON public.conversation_contexts USING btree (id)"
      },
      {
        "table": "conversations",
        "name": "conversations_pkey",
        "definition": "CREATE UNIQUE INDEX conversations_pkey ON public.conversations USING btree (id)"
      },
      {
        "table": "conversations",
        "name": "ix_conversations_id",
        "definition": "CREATE INDEX ix_conversations_id ON public.conversations USING btree (id)"
      },
      {
        "table": "conversations",
        "name": "ix_conversations_last_message_at",
        "definition": "CREATE INDEX ix_conversations_last_message_at ON public.conversations USING btree (last_message_at)"
      },
      {
        "table": "conversations",
        "name": "ix_conversations_status",
        "definition": "CREATE INDEX ix_conversations_status ON public.conversations USING btree (status)"
      },
      {
        "table": "customer_data_collection",
        "name": "customer_data_collection_pkey",
        "definition": "CREATE UNIQUE INDEX customer_data_collection_pkey ON public.customer_data_collection USING btree (id)"
      },
      {
        "table": "customer_data_collection",
        "name": "ix_customer_data_collection_id",
        "definition": "CREATE INDEX ix_customer_data_collection_id ON public.customer_data_collection USING btree (id)"
      },
      {
        "table": "login_sessions",
        "name": "ix_login_sessions_id",
        "definition": "CREATE INDEX ix_login_sessions_id ON public.login_sessions USING btree (id)"
      },
      {
        "table": "login_sessions",
        "name": "ix_login_sessions_session_token",
        "definition": "CREATE UNIQUE INDEX ix_login_sessions_session_token ON public.login_sessions USING btree (session_token)"
      },
      {
        "table": "login_sessions",
        "name": "login_sessions_pkey",
        "definition": "CREATE UNIQUE INDEX login_sessions_pkey ON public.login_sessions USING btree (id)"
      },
      {
        "table": "message_templates",
        "name": "ix_message_templates_id",
        "definition": "CREATE INDEX ix_message_templates_id ON public.message_templates USING btree (id)"
      },
      {
        "table": "message_templates",
        "name": "message_templates_pkey",
        "definition": "CREATE UNIQUE INDEX message_templates_pkey ON public.message_templates USING btree (id)"
      },
      {
        "table": "messages",
        "name": "ix_messages_created_at",
        "definition": "CREATE INDEX ix_messages_created_at ON public.messages USING btree (created_at)"
      },
      {
        "table": "messages",
        "name": "ix_messages_direction",
        "definition": "CREATE INDEX ix_messages_direction ON public.messages USING btree (direction)"
      },
      {
        "table": "messages",
        "name": "ix_messages_id",
        "definition": "CREATE INDEX ix_messages_id ON public.messages USING btree (id)"
      },
      {
        "table": "messages",
        "name": "ix_messages_message_id",
        "definition": "CREATE INDEX ix_messages_message_id ON public.messages USING btree (message_id)"
      },
      {
        "table": "messages",
        "name": "ix_messages_message_type",
        "definition": "CREATE INDEX ix_messages_message_type ON public.messages USING btree (message_type)"
      },
      {
        "table": "messages",
        "name": "messages_pkey",
        "definition": "CREATE UNIQUE INDEX messages_pkey ON public.messages USING btree (id)"
      },
      {
        "table": "meta_logs",
        "name": "ix_meta_logs_id",
        "definition": "CREATE INDEX ix_meta_logs_id ON public.meta_logs USING btree (id)"
      },
      {
        "table": "meta_logs",
        "name": "meta_logs_pkey",
        "definition": "CREATE UNIQUE INDEX meta_logs_pkey ON public.meta_logs USING btree (id)"
      },
      {
        "table": "payment_methods",
        "name": "idx_payment_methods_business",
        "definition": "CREATE INDEX idx_payment_methods_business ON public.payment_methods USING btree (business_id, is_active)"
      },
      {
        "table": "payment_methods",
        "name": "payment_methods_pkey",
        "definition": "CREATE UNIQUE INDEX payment_methods_pkey ON public.payment_methods USING btree (id)"
      },
      {
        "table": "services",
        "name": "ix_services_id",
        "definition": "CREATE INDEX ix_services_id ON public.services USING btree (id)"
      },
      {
        "table": "services",
        "name": "services_pkey",
        "definition": "CREATE UNIQUE INDEX services_pkey ON public.services USING btree (id)"
      },
      {
        "table": "users",
        "name": "ix_users_id",
        "definition": "CREATE INDEX ix_users_id ON public.users USING btree (id)"
      },
      {
        "table": "users",
        "name": "ix_users_wa_id",
        "definition": "CREATE UNIQUE INDEX ix_users_wa_id ON public.users USING btree (wa_id)"
      },
      {
        "table": "users",
        "name": "users_pkey",
        "definition": "CREATE UNIQUE INDEX users_pkey ON public.users USING btree (id)"
      }
    ],
    "constraints": [
      {
        "table": "admin_users",
        "name": "admin_users_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "admins",
        "name": "admins_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "admins",
        "name": "admins_username_key",
        "type": "UNIQUE",
        "column": "username"
      },
      {
        "table": "admins",
        "name": "admins_email_key",
        "type": "UNIQUE",
        "column": "email"
      },
      {
        "table": "appointments",
        "name": "appointments_service_id_fkey",
        "type": "FOREIGN KEY",
        "column": "service_id"
      },
      {
        "table": "appointments",
        "name": "appointments_business_id_fkey",
        "type": "FOREIGN KEY",
        "column": "business_id"
      },
      {
        "table": "appointments",
        "name": "appointments_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id"
      },
      {
        "table": "appointments",
        "name": "appointments_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "available_slots",
        "name": "available_slots_business_id_fkey",
        "type": "FOREIGN KEY",
        "column": "business_id"
      },
      {
        "table": "available_slots",
        "name": "available_slots_service_id_fkey",
        "type": "FOREIGN KEY",
        "column": "service_id"
      },
      {
        "table": "available_slots",
        "name": "available_slots_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "blocked_times",
        "name": "blocked_times_business_id_fkey",
        "type": "FOREIGN KEY",
        "column": "business_id"
      },
      {
        "table": "blocked_times",
        "name": "blocked_times_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "bot_configurations",
        "name": "bot_configurations_business_id_fkey",
        "type": "FOREIGN KEY",
        "column": "business_id"
      },
      {
        "table": "bot_configurations",
        "name": "bot_configurations_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "business_hours",
        "name": "business_hours_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "business_policies",
        "name": "business_policies_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "businesses",
        "name": "businesses_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "company_info",
        "name": "company_info_business_id_fkey",
        "type": "FOREIGN KEY",
        "column": "business_id"
      },
      {
        "table": "company_info",
        "name": "company_info_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "conversation_contexts",
        "name": "conversation_contexts_conversation_id_fkey",
        "type": "FOREIGN KEY",
        "column": "conversation_id"
      },
      {
        "table": "conversation_contexts",
        "name": "conversation_contexts_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "conversations",
        "name": "conversations_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id"
      },
      {
        "table": "conversations",
        "name": "conversations_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "customer_data_collection",
        "name": "customer_data_collection_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id"
      },
      {
        "table": "customer_data_collection",
        "name": "customer_data_collection_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "login_sessions",
        "name": "login_sessions_admin_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "admin_user_id"
      },
      {
        "table": "login_sessions",
        "name": "login_sessions_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "message_templates",
        "name": "message_templates_business_id_fkey",
        "type": "FOREIGN KEY",
        "column": "business_id"
      },
      {
        "table": "message_templates",
        "name": "message_templates_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "messages",
        "name": "messages_conversation_id_fkey",
        "type": "FOREIGN KEY",
        "column": "conversation_id"
      },
      {
        "table": "messages",
        "name": "messages_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id"
      },
      {
        "table": "messages",
        "name": "messages_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "meta_logs",
        "name": "meta_logs_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "payment_methods",
        "name": "payment_methods_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "services",
        "name": "services_business_id_fkey",
        "type": "FOREIGN KEY",
        "column": "business_id"
      },
      {
        "table": "services",
        "name": "services_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      },
      {
        "table": "users",
        "name": "users_pkey",
        "type": "PRIMARY KEY",
        "column": "id"
      }
    ]
  },
  "tables": {
    "admin_users": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('admin_users_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "username",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 50
        },
        {
          "name": "email",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 255
        },
        {
          "name": "password_hash",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 255
        },
        {
          "name": "full_name",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "is_active",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "is_super_admin",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "last_login",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 0,
      "size": {
        "total_size": "40 kB",
        "table_size": "0 bytes"
      }
    },
    "admins": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('admins_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "username",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 50
        },
        {
          "name": "email",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 255
        },
        {
          "name": "hashed_password",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 255
        },
        {
          "name": "is_active",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 0,
      "size": {
        "total_size": "40 kB",
        "table_size": "0 bytes"
      }
    },
    "appointments": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('appointments_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "user_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "business_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "service_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "date_time",
          "type": "timestamp with time zone",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "end_time",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "status",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "notes",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "customer_notes",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "admin_notes",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "cancellation_reason",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "cancelled_by",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "confirmed_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "confirmed_by",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "price_at_booking",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 0,
      "size": {
        "total_size": "40 kB",
        "table_size": "0 bytes"
      }
    },
    "available_slots": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('available_slots_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "business_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "service_id",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "date",
          "type": "timestamp with time zone",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "start_time",
          "type": "timestamp with time zone",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "end_time",
          "type": "timestamp with time zone",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "duration_minutes",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "is_available",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "is_blocked",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "blocked_reason",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "max_appointments",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "current_appointments",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "day_of_week",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "slot_time",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 5
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 0,
      "size": {
        "total_size": "16 kB",
        "table_size": "0 bytes"
      }
    },
    "blocked_times": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('blocked_times_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "business_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "start_date",
          "type": "timestamp with time zone",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "end_date",
          "type": "timestamp with time zone",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "start_time",
          "type": "timestamp with time zone",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "end_time",
          "type": "timestamp with time zone",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "reason",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "block_type",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "is_recurring",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "recurrence_pattern",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "created_by",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 50
        }
      ],
      "row_count": 0,
      "size": {
        "total_size": "24 kB",
        "table_size": "0 bytes"
      }
    },
    "bot_configurations": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('bot_configurations_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "business_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "auto_response_enabled",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "response_delay_min",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "response_delay_max",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "max_retries",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "language",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 10
        },
        {
          "name": "timezone",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 50
        },
        {
          "name": "max_message_length",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "working_hours_only",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "weekend_support",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "appointment_enabled",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "min_advance_booking_hours",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "max_advance_booking_days",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "max_appointments_per_day",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "appointment_buffer_minutes",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "auto_confirm_bookings",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "slot_duration_minutes",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "break_between_appointments_minutes",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "notification_lead_time_hours",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "send_confirmation_messages",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "send_reminder_messages",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "reminder_hours_before",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "follow_up_enabled",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "follow_up_delay_minutes",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "max_retries_data_collection",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "timeout_minutes_user_response",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "enable_human_handoff",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "data_collection_enabled",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "required_fields",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "optional_fields",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 0,
      "size": {
        "total_size": "24 kB",
        "table_size": "0 bytes"
      }
    },
    "business_hours": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('business_hours_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "business_id",
          "type": "integer",
          "nullable": false,
          "default": "1",
          "max_length": null
        },
        {
          "name": "day_of_week",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "is_open",
          "type": "boolean",
          "nullable": false,
          "default": "true",
          "max_length": null
        },
        {
          "name": "open_time",
          "type": "time without time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "close_time",
          "type": "time without time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "break_start_time",
          "type": "time without time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "break_end_time",
          "type": "time without time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "notes",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        }
      ],
      "row_count": 8,
      "size": {
        "total_size": "48 kB",
        "table_size": "8192 bytes"
      }
    },
    "business_policies": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('business_policies_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "business_id",
          "type": "integer",
          "nullable": false,
          "default": "1",
          "max_length": null
        },
        {
          "name": "policy_type",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 50
        },
        {
          "name": "title",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 200
        },
        {
          "name": "description",
          "type": "text",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "rules",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "is_active",
          "type": "boolean",
          "nullable": false,
          "default": "true",
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        }
      ],
      "row_count": 3,
      "size": {
        "total_size": "48 kB",
        "table_size": "8192 bytes"
      }
    },
    "businesses": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('businesses_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "name",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 255
        },
        {
          "name": "phone",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "email",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "address",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "description",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "business_hours",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 1,
      "size": {
        "total_size": "48 kB",
        "table_size": "8192 bytes"
      }
    },
    "company_info": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('company_info_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "business_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "company_name",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 255
        },
        {
          "name": "slogan",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 500
        },
        {
          "name": "about_us",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "whatsapp_number",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "phone_secondary",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "email_contact",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "website",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "street_address",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 500
        },
        {
          "name": "city",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 100
        },
        {
          "name": "state",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 50
        },
        {
          "name": "zip_code",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "country",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 50
        },
        {
          "name": "instagram",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "facebook",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "linkedin",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "welcome_message",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "auto_response_enabled",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "business_description",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 1,
      "size": {
        "total_size": "48 kB",
        "table_size": "8192 bytes"
      }
    },
    "conversation_contexts": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('conversation_contexts_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "conversation_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "current_state",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 50
        },
        {
          "name": "previous_state",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 50
        },
        {
          "name": "temp_data",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "collected_data",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "booking_data",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "retry_count",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "max_retries",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "awaiting_response",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "awaiting_response_for",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 100
        },
        {
          "name": "state_changed_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "last_interaction_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 0,
      "size": {
        "total_size": "24 kB",
        "table_size": "0 bytes"
      }
    },
    "conversations": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('conversations_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "user_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "status",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "last_message_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 4,
      "size": {
        "total_size": "104 kB",
        "table_size": "8192 bytes"
      }
    },
    "customer_data_collection": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('customer_data_collection_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "user_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "collection_status",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "has_name",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "has_email",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "has_phone",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "name_attempts",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "email_attempts",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "phone_attempts",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "collection_method",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 50
        },
        {
          "name": "notes",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "last_attempt_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 0,
      "size": {
        "total_size": "24 kB",
        "table_size": "0 bytes"
      }
    },
    "login_sessions": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('login_sessions_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "session_token",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 255
        },
        {
          "name": "admin_user_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "ip_address",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 45
        },
        {
          "name": "user_agent",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "is_active",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 0,
      "size": {
        "total_size": "32 kB",
        "table_size": "0 bytes"
      }
    },
    "message_templates": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('message_templates_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "business_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "template_key",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 100
        },
        {
          "name": "template_name",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "template_content",
          "type": "text",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "available_variables",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "is_active",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "category",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 50
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 0,
      "size": {
        "total_size": "24 kB",
        "table_size": "0 bytes"
      }
    },
    "messages": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('messages_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "user_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "conversation_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "direction",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 10
        },
        {
          "name": "message_id",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "content",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "message_type",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "raw_payload",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        }
      ],
      "row_count": 30,
      "size": {
        "total_size": "232 kB",
        "table_size": "16 kB"
      }
    },
    "meta_logs": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('meta_logs_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "direction",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 10
        },
        {
          "name": "endpoint",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "method",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 10
        },
        {
          "name": "status_code",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "headers",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "payload",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "response",
          "type": "json",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        }
      ],
      "row_count": 1129,
      "size": {
        "total_size": "1784 kB",
        "table_size": "1672 kB"
      }
    },
    "payment_methods": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('payment_methods_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "business_id",
          "type": "integer",
          "nullable": false,
          "default": "1",
          "max_length": null
        },
        {
          "name": "name",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 100
        },
        {
          "name": "is_active",
          "type": "boolean",
          "nullable": false,
          "default": "true",
          "max_length": null
        },
        {
          "name": "description",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "additional_info",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "display_order",
          "type": "integer",
          "nullable": true,
          "default": "0",
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        }
      ],
      "row_count": 4,
      "size": {
        "total_size": "48 kB",
        "table_size": "8192 bytes"
      }
    },
    "services": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('services_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "business_id",
          "type": "integer",
          "nullable": false,
          "default": null,
          "max_length": null
        },
        {
          "name": "name",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 255
        },
        {
          "name": "description",
          "type": "text",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "duration_minutes",
          "type": "integer",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "price",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "is_active",
          "type": "boolean",
          "nullable": true,
          "default": null,
          "max_length": null
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 16,
      "size": {
        "total_size": "48 kB",
        "table_size": "8192 bytes"
      }
    },
    "users": {
      "columns": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "default": "nextval('users_id_seq'::regclass)",
          "max_length": null
        },
        {
          "name": "wa_id",
          "type": "character varying",
          "nullable": false,
          "default": null,
          "max_length": 50
        },
        {
          "name": "nome",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "telefone",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 20
        },
        {
          "name": "email",
          "type": "character varying",
          "nullable": true,
          "default": null,
          "max_length": 255
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": "now()",
          "max_length": null
        },
        {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "nullable": true,
          "default": null,
          "max_length": null
        }
      ],
      "row_count": 4,
      "size": {
        "total_size": "64 kB",
        "table_size": "8192 bytes"
      }
    }
  },
  "relationships": [
    {
      "source_table": "login_sessions",
      "source_column": "admin_user_id",
      "target_table": "admin_users",
      "target_column": "id",
      "constraint_name": "login_sessions_admin_user_id_fkey"
    },
    {
      "source_table": "conversations",
      "source_column": "user_id",
      "target_table": "users",
      "target_column": "id",
      "constraint_name": "conversations_user_id_fkey"
    },
    {
      "source_table": "services",
      "source_column": "business_id",
      "target_table": "businesses",
      "target_column": "id",
      "constraint_name": "services_business_id_fkey"
    },
    {
      "source_table": "blocked_times",
      "source_column": "business_id",
      "target_table": "businesses",
      "target_column": "id",
      "constraint_name": "blocked_times_business_id_fkey"
    },
    {
      "source_table": "company_info",
      "source_column": "business_id",
      "target_table": "businesses",
      "target_column": "id",
      "constraint_name": "company_info_business_id_fkey"
    },
    {
      "source_table": "message_templates",
      "source_column": "business_id",
      "target_table": "businesses",
      "target_column": "id",
      "constraint_name": "message_templates_business_id_fkey"
    },
    {
      "source_table": "bot_configurations",
      "source_column": "business_id",
      "target_table": "businesses",
      "target_column": "id",
      "constraint_name": "bot_configurations_business_id_fkey"
    },
    {
      "source_table": "customer_data_collection",
      "source_column": "user_id",
      "target_table": "users",
      "target_column": "id",
      "constraint_name": "customer_data_collection_user_id_fkey"
    },
    {
      "source_table": "messages",
      "source_column": "user_id",
      "target_table": "users",
      "target_column": "id",
      "constraint_name": "messages_user_id_fkey"
    },
    {
      "source_table": "messages",
      "source_column": "conversation_id",
      "target_table": "conversations",
      "target_column": "id",
      "constraint_name": "messages_conversation_id_fkey"
    },
    {
      "source_table": "appointments",
      "source_column": "user_id",
      "target_table": "users",
      "target_column": "id",
      "constraint_name": "appointments_user_id_fkey"
    },
    {
      "source_table": "appointments",
      "source_column": "business_id",
      "target_table": "businesses",
      "target_column": "id",
      "constraint_name": "appointments_business_id_fkey"
    },
    {
      "source_table": "appointments",
      "source_column": "service_id",
      "target_table": "services",
      "target_column": "id",
      "constraint_name": "appointments_service_id_fkey"
    },
    {
      "source_table": "available_slots",
      "source_column": "business_id",
      "target_table": "businesses",
      "target_column": "id",
      "constraint_name": "available_slots_business_id_fkey"
    },
    {
      "source_table": "available_slots",
      "source_column": "service_id",
      "target_table": "services",
      "target_column": "id",
      "constraint_name": "available_slots_service_id_fkey"
    },
    {
      "source_table": "conversation_contexts",
      "source_column": "conversation_id",
      "target_table": "conversations",
      "target_column": "id",
      "constraint_name": "conversation_contexts_conversation_id_fkey"
    }
  ],
  "data_summary": {},
  "sample_data": {
    "business_hours": [
      {
        "id": "1",
        "business_id": "1",
        "day_of_week": "0",
        "is_open": "False",
        "open_time": null,
        "close_time": null,
        "break_start_time": null,
        "break_end_time": null,
        "notes": "Fechado aos domingos",
        "created_at": "2025-08-13 16:32:37.321637+00:00",
        "updated_at": "2025-08-13 16:32:37.321637+00:00"
      },
      {
        "id": "2",
        "business_id": "3",
        "day_of_week": "0",
        "is_open": "False",
        "open_time": null,
        "close_time": null,
        "break_start_time": null,
        "break_end_time": null,
        "notes": "Fechado aos domingos",
        "created_at": "2025-08-13 17:46:46.628688+00:00",
        "updated_at": "2025-08-13 17:46:46.628688+00:00"
      },
      {
        "id": "3",
        "business_id": "3",
        "day_of_week": "1",
        "is_open": "True",
        "open_time": "08:00:00",
        "close_time": "18:00:00",
        "break_start_time": "12:00:00",
        "break_end_time": "13:00:00",
        "notes": "Segunda-feira: 08h s 18h (almoo 12h-13h)",
        "created_at": "2025-08-13 17:46:46.628688+00:00",
        "updated_at": "2025-08-13 17:46:46.628688+00:00"
      }
    ],
    "business_policies": [
      {
        "id": "1",
        "business_id": "1",
        "policy_type": "cancellation",
        "title": "Poltica de Cancelamento",
        "description": "Cancelamentos devem ser feitos com pelo menos 24 horas de antecedncia.",
        "rules": "{\"min_hours\": 24, \"refund\": false}",
        "is_active": "True",
        "created_at": "2025-08-13 16:33:19.016799+00:00",
        "updated_at": "2025-08-13 16:33:19.016799+00:00"
      },
      {
        "id": "2",
        "business_id": "1",
        "policy_type": "rescheduling",
        "title": "Poltica de Reagendamento",
        "description": "Reagendamentos podem ser feitos at 2 horas antes do horrio marcado.",
        "rules": "{\"min_hours\": 2, \"max_reschedules\": 2}",
        "is_active": "True",
        "created_at": "2025-08-13 16:33:19.605910+00:00",
        "updated_at": "2025-08-13 16:33:19.605910+00:00"
      },
      {
        "id": "3",
        "business_id": "1",
        "policy_type": "no_show",
        "title": "Poltica de Falta",
        "description": "Faltas sem aviso prvio resultam em cobrana de taxa.",
        "rules": "{\"fee_percentage\": 50, \"grace_period\": 15}",
        "is_active": "True",
        "created_at": "2025-08-13 16:33:20.117077+00:00",
        "updated_at": "2025-08-13 16:33:20.117077+00:00"
      }
    ],
    "businesses": [
      {
        "id": "3",
        "name": "Studio Beleza & Bem-Estar",
        "phone": "(11) 99999-8888",
        "email": "contato@studiobeleza.com.br",
        "address": "Rua das Flores, 123 - Centro, So Paulo - SP, CEP: 01234-567",
        "description": "Estdio completo de beleza e esttica especializado em tratamentos faciais, massagens, depilao e cuidados corporais.",
        "business_hours": "{\"seg_sex\": \"09:00-18:00\", \"sab\": \"09:00-15:00\", \"dom\": \"fechado\", \"almoco\": \"12:00-13:00\"}",
        "created_at": "2025-08-13 17:42:53.984569+00:00",
        "updated_at": "2025-08-13 17:42:53.984569+00:00"
      }
    ],
    "company_info": [
      {
        "id": "4",
        "business_id": "3",
        "company_name": "Studio Beleza & Bem-Estar",
        "slogan": "Sua beleza  nossa paixo",
        "about_us": "H mais de 10 anos cuidando da sua beleza e bem-estar com carinho e profissionalismo. Nossa equipe especializada oferece os melhores tratamentos em um ambiente aconchegante e seguro.",
        "whatsapp_number": "5511999998888",
        "phone_secondary": "(11) 3333-4444",
        "email_contact": "contato@studiobeleza.com.br",
        "website": "https://studiobeleza.com.br",
        "street_address": "Rua das Flores, 123 - Centro",
        "city": "So Paulo",
        "state": "SP",
        "zip_code": "01234-567",
        "country": "Brasil",
        "instagram": "@studiobelezasp",
        "facebook": "StudioBelezaSP",
        "linkedin": "studio-beleza-sp",
        "welcome_message": "Ol!  Bem-vindo(a) ao Studio Beleza & Bem-Estar! Como posso ajud-lo(a) hoje? Oferecemos diversos tratamentos de beleza e esttica. Digite \"menu\" para ver nossos servios ou \"agendar\" para marcar seu horrio.",
        "auto_response_enabled": "True",
        "business_description": "Estdio especializado em tratamentos estticos, massagens relaxantes e cuidados com a beleza. Oferecemos servios personalizados em um ambiente aconchegante com profissionais experientes e certificados.",
        "created_at": "2025-08-13 17:42:54.262052+00:00",
        "updated_at": "2025-08-13 17:42:54.262052+00:00"
      }
    ],
    "conversations": [
      {
        "id": "1",
        "user_id": "1",
        "status": "active",
        "last_message_at": "2025-08-13 02:12:08.441953+00:00",
        "created_at": "2025-08-12 23:12:08.374108+00:00",
        "updated_at": "2025-08-12 23:12:08.437570+00:00"
      },
      {
        "id": "10",
        "user_id": "2",
        "status": "active",
        "last_message_at": "2025-08-14 07:15:42.249440+00:00",
        "created_at": "2025-08-14 03:35:40.629343+00:00",
        "updated_at": "2025-08-14 04:15:42.247358+00:00"
      },
      {
        "id": "3",
        "user_id": "3",
        "status": "active",
        "last_message_at": "2025-08-13 18:56:40.435750+00:00",
        "created_at": "2025-08-13 14:55:01.054354+00:00",
        "updated_at": "2025-08-13 15:56:40.434259+00:00"
      }
    ],
    "messages": [
      {
        "id": "1",
        "user_id": "1",
        "conversation_id": "1",
        "direction": "in",
        "message_id": "test_message_id",
        "content": "Teste de mensagem",
        "message_type": "text",
        "raw_payload": "{\"from\": \"5511999999999\", \"id\": \"test_message_id\", \"timestamp\": \"1692123456\", \"text\": {\"body\": \"Teste de mensagem\"}, \"type\": \"text\"}",
        "created_at": "2025-08-12 23:12:08.407790+00:00"
      },
      {
        "id": "591",
        "user_id": "2",
        "conversation_id": "10",
        "direction": "in",
        "message_id": "wamid.test_1755144094908",
        "content": "Teste automatizado - Oi!",
        "message_type": "text",
        "raw_payload": "{\"from\": \"5516991022255\", \"id\": \"wamid.test_1755144094908\", \"timestamp\": \"1755144094\", \"text\": {\"body\": \"Teste automatizado - Oi!\"}, \"type\": \"text\"}",
        "created_at": "2025-08-14 04:01:35.403538+00:00"
      },
      {
        "id": "592",
        "user_id": "2",
        "conversation_id": "10",
        "direction": "out",
        "message_id": null,
        "content": "Ol! Como posso ajudar voc hoje?",
        "message_type": "text",
        "raw_payload": "{\"metadata\": {\"processing_system\": \"advanced_llm\", \"llm_confidence\": 0.8, \"processing_time\": 7.586410284042358, \"sanitized\": true}}",
        "created_at": "2025-08-14 04:01:43.098611+00:00"
      }
    ],
    "meta_logs": [
      {
        "id": "1",
        "direction": "in",
        "endpoint": "/webhook",
        "method": "POST",
        "status_code": "200",
        "headers": "{\"host\": \"wppagent-production.up.railway.app\", \"user-agent\": \"curl/8.12.1\", \"content-length\": \"690\", \"accept\": \"*/*\", \"content-type\": \"application/json\", \"x-forwarded-for\": \"179.217.181.227\", \"x-forwarded-host\": \"wppagent-production.up.railway.app\", \"x-forwarded-proto\": \"https\", \"x-railway-edge\": \"railway/us-east4-eqdc4a\", \"x-railway-request-id\": \"ARK7ri0lSoWiLK15ezItjw\", \"x-real-ip\": \"179.217.181.227\", \"x-request-start\": \"1755040328264\", \"accept-encoding\": \"gzip\"}",
        "payload": "{\"object\": \"whatsapp_business_account\", \"entry\": [{\"id\": \"test_id\", \"changes\": [{\"value\": {\"messaging_product\": \"whatsapp\", \"metadata\": {\"display_phone_number\": \"15550559999\", \"phone_number_id\": \"test_phone_id\"}, \"messages\": [{\"from\": \"5511999999999\", \"id\": \"test_message_id\", \"timestamp\": \"1692123456\", \"text\": {\"body\": \"Teste de mensagem\"}, \"type\": \"text\"}]}, \"field\": \"messages\"}]}]}",
        "response": null,
        "created_at": "2025-08-12 23:12:08.314816+00:00"
      },
      {
        "id": "2",
        "direction": "in",
        "endpoint": "/webhook",
        "method": "POST",
        "status_code": "200",
        "headers": "{\"host\": \"wppagent-production.up.railway.app\", \"user-agent\": \"facebookexternalua\", \"content-length\": \"507\", \"accept\": \"*/*\", \"accept-encoding\": \"deflate, gzip\", \"content-type\": \"application/json\", \"x-forwarded-for\": \"173.252.79.116\", \"x-forwarded-host\": \"wppagent-production.up.railway.app\", \"x-forwarded-proto\": \"https\", \"x-hub-signature\": \"sha1=3f8826b7aa0503610f24de669a4703a6cefd9c91\", \"x-hub-signature-256\": \"sha256=28c8a878b430585fd0645588ab602394ee1c59267f990f837af161a0f1e7d983\", \"x-railway-edge\": \"railway/us-east4-eqdc4a\", \"x-railway-request-id\": \"vDDNIPB1TbS1YgTYBT7zVQ\", \"x-real-ip\": \"173.252.79.116\", \"x-request-start\": \"1755059573275\"}",
        "payload": "{\"object\": \"whatsapp_business_account\", \"entry\": [{\"id\": \"1404306824167271\", \"changes\": [{\"value\": {\"messaging_product\": \"whatsapp\", \"metadata\": {\"display_phone_number\": \"15551536026\", \"phone_number_id\": \"728348237027885\"}, \"contacts\": [{\"profile\": {\"name\": \"Jo\\u00e3o Victor Vancim\"}, \"wa_id\": \"5516991022255\"}], \"messages\": [{\"from\": \"5516991022255\", \"id\": \"wamid.HBgNNTUxNjk5MTAyMjI1NRUCABIYIDY0M0IwNjRGMUJGQ0IyOTdEOEJFOTk4REZEQ0JFQzE3AA==\", \"timestamp\": \"1755059570\", \"text\": {\"body\": \"ola\"}, \"type\": \"text\"}]}, \"field\": \"messages\"}]}]}",
        "response": null,
        "created_at": "2025-08-13 04:32:53.388803+00:00"
      },
      {
        "id": "3",
        "direction": "in",
        "endpoint": "/webhook",
        "method": "POST",
        "status_code": "200",
        "headers": "{\"host\": \"wppagent-production.up.railway.app\", \"user-agent\": \"facebookexternalua\", \"content-length\": \"507\", \"accept\": \"*/*\", \"accept-encoding\": \"deflate, gzip\", \"content-type\": \"application/json\", \"x-forwarded-for\": \"173.252.79.7\", \"x-forwarded-host\": \"wppagent-production.up.railway.app\", \"x-forwarded-proto\": \"https\", \"x-hub-signature\": \"sha1=f9f1e61063e18f314c502ffaba7adbe00d0f2f29\", \"x-hub-signature-256\": \"sha256=157a9500497e4324f78bcc5bfd3a07bfcbadbe26c785d819f9199e0be885bf7a\", \"x-railway-edge\": \"railway/us-east4-eqdc4a\", \"x-railway-request-id\": \"W2T3mwVNTQSwx0eBg4a9AQ\", \"x-real-ip\": \"173.252.79.7\", \"x-request-start\": \"1755060207354\"}",
        "payload": "{\"object\": \"whatsapp_business_account\", \"entry\": [{\"id\": \"1404306824167271\", \"changes\": [{\"value\": {\"messaging_product\": \"whatsapp\", \"metadata\": {\"display_phone_number\": \"15551536026\", \"phone_number_id\": \"728348237027885\"}, \"contacts\": [{\"profile\": {\"name\": \"Jo\\u00e3o Victor Vancim\"}, \"wa_id\": \"5516991022255\"}], \"messages\": [{\"from\": \"5516991022255\", \"id\": \"wamid.HBgNNTUxNjk5MTAyMjI1NRUCABIYIEZFODI0Q0NFODg3MDc5MjQ0MDhBQzVGMjEyMThFQTdEAA==\", \"timestamp\": \"1755060205\", \"text\": {\"body\": \"ola\"}, \"type\": \"text\"}]}, \"field\": \"messages\"}]}]}",
        "response": null,
        "created_at": "2025-08-13 04:43:27.459516+00:00"
      }
    ],
    "payment_methods": [
      {
        "id": "1",
        "business_id": "1",
        "name": "Dinheiro",
        "is_active": "True",
        "description": "Pagamento em espcie",
        "additional_info": null,
        "display_order": "1",
        "created_at": "2025-08-13 16:33:17.347324+00:00",
        "updated_at": "2025-08-13 16:33:17.347324+00:00"
      },
      {
        "id": "2",
        "business_id": "1",
        "name": "PIX",
        "is_active": "True",
        "description": "Transferncia instantnea",
        "additional_info": null,
        "display_order": "2",
        "created_at": "2025-08-13 16:33:17.625517+00:00",
        "updated_at": "2025-08-13 16:33:17.625517+00:00"
      },
      {
        "id": "3",
        "business_id": "1",
        "name": "Carto de Dbito",
        "is_active": "True",
        "description": "Carto de dbito",
        "additional_info": null,
        "display_order": "3",
        "created_at": "2025-08-13 16:33:17.812842+00:00",
        "updated_at": "2025-08-13 16:33:17.812842+00:00"
      }
    ],
    "services": [
      {
        "id": "1",
        "business_id": "3",
        "name": "Limpeza de Pele Profunda",
        "description": "Limpeza completa com extrao, tonificao e hidratao. Inclui esfoliao e mscara personalizada.",
        "duration_minutes": "90",
        "price": "R$ 80,00",
        "is_active": "True",
        "created_at": "2025-08-13 17:42:54.546557+00:00",
        "updated_at": "2025-08-13 17:42:54.546557+00:00"
      },
      {
        "id": "2",
        "business_id": "3",
        "name": "Hidrofacial Diamante",
        "description": "Tratamento premium com tecnologia de ponta. Limpeza, esfoliao e hidratao profunda.",
        "duration_minutes": "60",
        "price": "R$ 150,00",
        "is_active": "True",
        "created_at": "2025-08-13 17:42:54.827480+00:00",
        "updated_at": "2025-08-13 17:42:54.827480+00:00"
      },
      {
        "id": "3",
        "business_id": "3",
        "name": "Peeling Qumico",
        "description": "Renovao celular com cidos especficos. Remove manchas e melhora textura da pele.",
        "duration_minutes": "45",
        "price": "R$ 120,00",
        "is_active": "True",
        "created_at": "2025-08-13 17:42:54.967675+00:00",
        "updated_at": "2025-08-13 17:42:54.967675+00:00"
      }
    ],
    "users": [
      {
        "id": "1",
        "wa_id": "5511999999999",
        "nome": null,
        "telefone": "5511999999999",
        "email": null,
        "created_at": "2025-08-12 23:12:08.339124+00:00",
        "updated_at": null
      },
      {
        "id": "3",
        "wa_id": "5516988503380",
        "nome": "F",
        "telefone": "5516988503380",
        "email": null,
        "created_at": "2025-08-13 14:55:01.030600+00:00",
        "updated_at": null
      },
      {
        "id": "4",
        "wa_id": "5516988540123",
        "nome": "Corauci",
        "telefone": "5516988540123",
        "email": null,
        "created_at": "2025-08-13 21:10:12.927198+00:00",
        "updated_at": null
      }
    ]
  },
  "statistics": {
    "total_tables": 20,
    "total_relationships": 16,
    "total_rows": 1200,
    "analysis_timestamp": "2025-08-14T01:19:23.742593"
  },
  "whatsapp_analysis": {
    "users": "Erro: column \"phone_number\" does not exist",
    "conversations": {
      "total_conversations": 4,
      "active_conversations": 4,
      "human_conversations": 0
    },
    "messages": {
      "total_messages": 30,
      "incoming_messages": 16,
      "outgoing_messages": 14,
      "text_messages": 28,
      "avg_message_length": "80.7000000000000000"
    },
    "recent_activity": [
      {
        "hour": "2025-08-13T14:00:00+00:00",
        "total": 2,
        "incoming": 1,
        "outgoing": 1
      },
      {
        "hour": "2025-08-13T15:00:00+00:00",
        "total": 4,
        "incoming": 2,
        "outgoing": 2
      },
      {
        "hour": "2025-08-13T21:00:00+00:00",
        "total": 2,
        "incoming": 1,
        "outgoing": 1
      },
      {
        "hour": "2025-08-14T03:00:00+00:00",
        "total": 1,
        "incoming": 1,
        "outgoing": 0
      },
      {
        "hour": "2025-08-14T04:00:00+00:00",
        "total": 20,
        "incoming": 10,
        "outgoing": 10
      }
    ],
    "top_users": "Erro: column u.phone_number does not exist"
  }
}