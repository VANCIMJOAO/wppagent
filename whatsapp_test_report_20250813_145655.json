{
  "test_info": {
    "start_time": "2025-08-13T14:54:30.368444",
    "end_time": "2025-08-13T14:56:55.909407",
    "duration_seconds": 145.540966,
    "test_phone": "5516991022255",
    "railway_url": "https://wppagent-production.up.railway.app"
  },
  "summary": {
    "total_scenarios": 9,
    "total_messages": 49,
    "success_count": 0,
    "error_count": 49,
    "success_rate_percent": 0.0
  },
  "test_results": [
    {
      "scenario": "basic_greeting",
      "message": "Olá!",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Olá!"
      }
    },
    {
      "scenario": "basic_greeting",
      "message": "Bom dia! Como você está?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Bom dia! Como você está?"
      }
    },
    {
      "scenario": "basic_greeting",
      "message": "Gostaria de conhecer seus serviços",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Gostaria de conhecer seus serviços"
      }
    },
    {
      "scenario": "service_inquiry",
      "message": "Quais serviços vocês oferecem?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Quais serviços vocês oferecem?"
      }
    },
    {
      "scenario": "service_inquiry",
      "message": "Quanto custa uma limpeza de pele?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Quanto custa uma limpeza de pele?"
      }
    },
    {
      "scenario": "service_inquiry",
      "message": "Vocês fazem massagem relaxante?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Vocês fazem massagem relaxante?"
      }
    },
    {
      "scenario": "service_inquiry",
      "message": "Qual a duração do hidrofacial?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Qual a duração do hidrofacial?"
      }
    },
    {
      "scenario": "service_inquiry",
      "message": "Têm desconto para pacotes?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Têm desconto para pacotes?"
      }
    },
    {
      "scenario": "appointment_booking",
      "message": "Quero agendar um horário",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Quero agendar um horário"
      }
    },
    {
      "scenario": "appointment_booking",
      "message": "Limpeza de pele profunda",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Limpeza de pele profunda"
      }
    },
    {
      "scenario": "appointment_booking",
      "message": "Amanhã de manhã seria possível?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Amanhã de manhã seria possível?"
      }
    },
    {
      "scenario": "appointment_booking",
      "message": "Às 10h está bom",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Às 10h está bom"
      }
    },
    {
      "scenario": "appointment_booking",
      "message": "Meu nome é João Silva",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Meu nome é João Silva"
      }
    },
    {
      "scenario": "appointment_booking",
      "message": "Sim, confirmo o agendamento",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Sim, confirmo o agendamento"
      }
    },
    {
      "scenario": "appointment_changes",
      "message": "Preciso cancelar meu agendamento de amanhã",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Preciso cancelar meu agendamento de amanhã"
      }
    },
    {
      "scenario": "appointment_changes",
      "message": "Surgiu um imprevisto no trabalho",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Surgiu um imprevisto no trabalho"
      }
    },
    {
      "scenario": "appointment_changes",
      "message": "Posso reagendar para outro dia?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Posso reagendar para outro dia?"
      }
    },
    {
      "scenario": "appointment_changes",
      "message": "Que tal na sexta-feira?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Que tal na sexta-feira?"
      }
    },
    {
      "scenario": "appointment_changes",
      "message": "De tarde, por volta das 14h",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "De tarde, por volta das 14h"
      }
    },
    {
      "scenario": "appointment_changes",
      "message": "Perfeito, confirmo o reagendamento",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Perfeito, confirmo o reagendamento"
      }
    },
    {
      "scenario": "complex_inquiry",
      "message": "Estou planejando um dia de spa para minha mãe",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Estou planejando um dia de spa para minha mãe"
      }
    },
    {
      "scenario": "complex_inquiry",
      "message": "Ela tem 65 anos e pele sensível",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Ela tem 65 anos e pele sensível"
      }
    },
    {
      "scenario": "complex_inquiry",
      "message": "Quais tratamentos vocês recomendam?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Quais tratamentos vocês recomendam?"
      }
    },
    {
      "scenario": "complex_inquiry",
      "message": "Quanto ficaria um pacote completo?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Quanto ficaria um pacote completo?"
      }
    },
    {
      "scenario": "complex_inquiry",
      "message": "Vocês têm estacionamento?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Vocês têm estacionamento?"
      }
    },
    {
      "scenario": "complex_inquiry",
      "message": "E desconto para idosos?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "E desconto para idosos?"
      }
    },
    {
      "scenario": "complaint_handling",
      "message": "Estou insatisfeito com o atendimento da semana passada",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Estou insatisfeito com o atendimento da semana passada"
      }
    },
    {
      "scenario": "complaint_handling",
      "message": "A profissional chegou 30 minutos atrasada",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "A profissional chegou 30 minutos atrasada"
      }
    },
    {
      "scenario": "complaint_handling",
      "message": "E o tratamento não ficou como esperado",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "E o tratamento não ficou como esperado"
      }
    },
    {
      "scenario": "complaint_handling",
      "message": "Gostaria de uma solução para isso",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Gostaria de uma solução para isso"
      }
    },
    {
      "scenario": "complaint_handling",
      "message": "Sim, aceito um desconto no próximo atendimento",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Sim, aceito um desconto no próximo atendimento"
      }
    },
    {
      "scenario": "business_hours",
      "message": "Vocês funcionam aos sábados?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Vocês funcionam aos sábados?"
      }
    },
    {
      "scenario": "business_hours",
      "message": "E domingo?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "E domingo?"
      }
    },
    {
      "scenario": "business_hours",
      "message": "Qual o horário de almoço?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Qual o horário de almoço?"
      }
    },
    {
      "scenario": "business_hours",
      "message": "Onde vocês ficam localizados?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Onde vocês ficam localizados?"
      }
    },
    {
      "scenario": "business_hours",
      "message": "Como chegar de transporte público?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Como chegar de transporte público?"
      }
    },
    {
      "scenario": "multi_topic_conversation",
      "message": "Oi! Queria saber sobre massagem",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Oi! Queria saber sobre massagem"
      }
    },
    {
      "scenario": "multi_topic_conversation",
      "message": "Mas antes, vocês fazem sobrancelha?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Mas antes, vocês fazem sobrancelha?"
      }
    },
    {
      "scenario": "multi_topic_conversation",
      "message": "Voltando à massagem, qual o preço?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Voltando à massagem, qual o preço?"
      }
    },
    {
      "scenario": "multi_topic_conversation",
      "message": "E depilação, vocês fazem também?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "E depilação, vocês fazem também?"
      }
    },
    {
      "scenario": "multi_topic_conversation",
      "message": "Ok, mas sobre a massagem, posso agendar para hoje?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Ok, mas sobre a massagem, posso agendar para hoje?"
      }
    },
    {
      "scenario": "multi_topic_conversation",
      "message": "Na verdade, prefiro agendar a sobrancelha mesmo",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Na verdade, prefiro agendar a sobrancelha mesmo"
      }
    },
    {
      "scenario": "multi_topic_conversation",
      "message": "Para amanhã de manhã",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Para amanhã de manhã"
      }
    },
    {
      "scenario": "edge_cases",
      "message": "asdfghjkl",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "asdfghjkl"
      }
    },
    {
      "scenario": "edge_cases",
      "message": "😀😃😄😁😆😅😂🤣",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "😀😃😄😁😆😅😂🤣"
      }
    },
    {
      "scenario": "edge_cases",
      "message": "QUERO AGENDAR AGORA!!!!!",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "QUERO AGENDAR AGORA!!!!!"
      }
    },
    {
      "scenario": "edge_cases",
      "message": "vocês fazem botox? e preenchimento? e harmonização facial?",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "vocês fazem botox? e preenchimento? e harmonização facial?"
      }
    },
    {
      "scenario": "edge_cases",
      "message": "123456789",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "123456789"
      }
    },
    {
      "scenario": "edge_cases",
      "message": "Obrigado pela atenção, até logo!",
      "result": {
        "status_code": 403,
        "response": "{\"detail\":\"Webhook inválido\"}",
        "message_sent": "Obrigado pela atenção, até logo!"
      }
    }
  ],
  "messages_sent": [
    {
      "timestamp": "2025-08-13T14:54:31.599930",
      "message": "Olá!",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:54:33.747779",
      "message": "Bom dia! Como você está?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:54:35.892227",
      "message": "Gostaria de conhecer seus serviços",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:54:40.035542",
      "message": "Quais serviços vocês oferecem?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:54:42.184380",
      "message": "Quanto custa uma limpeza de pele?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:54:44.327806",
      "message": "Vocês fazem massagem relaxante?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:54:46.472608",
      "message": "Qual a duração do hidrofacial?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:54:48.618463",
      "message": "Têm desconto para pacotes?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:54:52.772729",
      "message": "Quero agendar um horário",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:54:55.914105",
      "message": "Limpeza de pele profunda",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:54:59.059101",
      "message": "Amanhã de manhã seria possível?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:02.202536",
      "message": "Às 10h está bom",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:05.349972",
      "message": "Meu nome é João Silva",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:08.496525",
      "message": "Sim, confirmo o agendamento",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:13.661656",
      "message": "Preciso cancelar meu agendamento de amanhã",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:16.307066",
      "message": "Surgiu um imprevisto no trabalho",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:18.954459",
      "message": "Posso reagendar para outro dia?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:21.600269",
      "message": "Que tal na sexta-feira?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:24.246505",
      "message": "De tarde, por volta das 14h",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:26.892816",
      "message": "Perfeito, confirmo o reagendamento",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:31.542865",
      "message": "Estou planejando um dia de spa para minha mãe",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:34.688758",
      "message": "Ela tem 65 anos e pele sensível",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:37.837385",
      "message": "Quais tratamentos vocês recomendam?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:40.985966",
      "message": "Quanto ficaria um pacote completo?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:44.128632",
      "message": "Vocês têm estacionamento?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:47.270817",
      "message": "E desconto para idosos?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:52.412967",
      "message": "Estou insatisfeito com o atendimento da semana passada",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:55.557028",
      "message": "A profissional chegou 30 minutos atrasada",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:55:58.701676",
      "message": "E o tratamento não ficou como esperado",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:01.841275",
      "message": "Gostaria de uma solução para isso",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:04.990986",
      "message": "Sim, aceito um desconto no próximo atendimento",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:10.140660",
      "message": "Vocês funcionam aos sábados?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:12.282158",
      "message": "E domingo?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:14.431165",
      "message": "Qual o horário de almoço?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:16.577860",
      "message": "Onde vocês ficam localizados?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:18.723093",
      "message": "Como chegar de transporte público?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:22.870475",
      "message": "Oi! Queria saber sobre massagem",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:25.011006",
      "message": "Mas antes, vocês fazem sobrancelha?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:27.156444",
      "message": "Voltando à massagem, qual o preço?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:29.302279",
      "message": "E depilação, vocês fazem também?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:31.455609",
      "message": "Ok, mas sobre a massagem, posso agendar para hoje?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:33.599825",
      "message": "Na verdade, prefiro agendar a sobrancelha mesmo",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:35.744913",
      "message": "Para amanhã de manhã",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:39.896668",
      "message": "asdfghjkl",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:42.042178",
      "message": "😀😃😄😁😆😅😂🤣",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:44.187659",
      "message": "QUERO AGENDAR AGORA!!!!!",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:46.328470",
      "message": "vocês fazem botox? e preenchimento? e harmonização facial?",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:48.479970",
      "message": "123456789",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    },
    {
      "timestamp": "2025-08-13T14:56:50.634394",
      "message": "Obrigado pela atenção, até logo!",
      "type": "text",
      "status_code": 403,
      "response": "{\"detail\":\"Webhook inválido\"}"
    }
  ],
  "final_metrics": {
    "system_metrics": {
      "status_code": 200,
      "data": {
        "system": {
          "uptime": "2025-08-13T14:56:55.559535",
          "service": "WhatsApp Agent API",
          "version": "1.0.0"
        },
        "health_checks": {
          "database": {
            "status": "healthy",
            "response_time": 0.027413,
            "last_check": "2025-08-13T14:56:54.732026"
          },
          "whatsapp_api": {
            "status": "unhealthy",
            "response_time": null,
            "last_check": "2025-08-13T14:56:55.559336"
          },
          "openai_api": {
            "status": "unhealthy",
            "response_time": null,
            "last_check": "2025-08-13T14:56:54.837126"
          },
          "circuit_breakers": {
            "status": "healthy",
            "response_time": null,
            "last_check": "2025-08-13T14:56:54.724596"
          }
        },
        "circuit_breakers": {
          "whatsapp_api": {
            "state": "not_initialized"
          }
        }
      }
    },
    "conversation_analytics": {
      "status_code": 401,
      "data": {
        "error": "Authentication failed",
        "message": "Missing or invalid authorization header"
      }
    },
    "llm_analytics": {
      "status_code": 401,
      "data": {
        "error": "Authentication failed",
        "message": "Missing or invalid authorization header"
      }
    },
    "test_duration": 145.540909,
    "total_messages": 49,
    "success_rate": 0.0
  },
  "scenarios_breakdown": {
    "basic_greeting": {
      "total_messages": 3,
      "successful_messages": 0,
      "failed_messages": 3,
      "messages": [
        {
          "scenario": "basic_greeting",
          "message": "Olá!",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Olá!"
          }
        },
        {
          "scenario": "basic_greeting",
          "message": "Bom dia! Como você está?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Bom dia! Como você está?"
          }
        },
        {
          "scenario": "basic_greeting",
          "message": "Gostaria de conhecer seus serviços",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Gostaria de conhecer seus serviços"
          }
        }
      ]
    },
    "service_inquiry": {
      "total_messages": 5,
      "successful_messages": 0,
      "failed_messages": 5,
      "messages": [
        {
          "scenario": "service_inquiry",
          "message": "Quais serviços vocês oferecem?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Quais serviços vocês oferecem?"
          }
        },
        {
          "scenario": "service_inquiry",
          "message": "Quanto custa uma limpeza de pele?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Quanto custa uma limpeza de pele?"
          }
        },
        {
          "scenario": "service_inquiry",
          "message": "Vocês fazem massagem relaxante?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Vocês fazem massagem relaxante?"
          }
        },
        {
          "scenario": "service_inquiry",
          "message": "Qual a duração do hidrofacial?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Qual a duração do hidrofacial?"
          }
        },
        {
          "scenario": "service_inquiry",
          "message": "Têm desconto para pacotes?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Têm desconto para pacotes?"
          }
        }
      ]
    },
    "appointment_booking": {
      "total_messages": 6,
      "successful_messages": 0,
      "failed_messages": 6,
      "messages": [
        {
          "scenario": "appointment_booking",
          "message": "Quero agendar um horário",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Quero agendar um horário"
          }
        },
        {
          "scenario": "appointment_booking",
          "message": "Limpeza de pele profunda",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Limpeza de pele profunda"
          }
        },
        {
          "scenario": "appointment_booking",
          "message": "Amanhã de manhã seria possível?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Amanhã de manhã seria possível?"
          }
        },
        {
          "scenario": "appointment_booking",
          "message": "Às 10h está bom",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Às 10h está bom"
          }
        },
        {
          "scenario": "appointment_booking",
          "message": "Meu nome é João Silva",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Meu nome é João Silva"
          }
        },
        {
          "scenario": "appointment_booking",
          "message": "Sim, confirmo o agendamento",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Sim, confirmo o agendamento"
          }
        }
      ]
    },
    "appointment_changes": {
      "total_messages": 6,
      "successful_messages": 0,
      "failed_messages": 6,
      "messages": [
        {
          "scenario": "appointment_changes",
          "message": "Preciso cancelar meu agendamento de amanhã",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Preciso cancelar meu agendamento de amanhã"
          }
        },
        {
          "scenario": "appointment_changes",
          "message": "Surgiu um imprevisto no trabalho",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Surgiu um imprevisto no trabalho"
          }
        },
        {
          "scenario": "appointment_changes",
          "message": "Posso reagendar para outro dia?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Posso reagendar para outro dia?"
          }
        },
        {
          "scenario": "appointment_changes",
          "message": "Que tal na sexta-feira?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Que tal na sexta-feira?"
          }
        },
        {
          "scenario": "appointment_changes",
          "message": "De tarde, por volta das 14h",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "De tarde, por volta das 14h"
          }
        },
        {
          "scenario": "appointment_changes",
          "message": "Perfeito, confirmo o reagendamento",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Perfeito, confirmo o reagendamento"
          }
        }
      ]
    },
    "complex_inquiry": {
      "total_messages": 6,
      "successful_messages": 0,
      "failed_messages": 6,
      "messages": [
        {
          "scenario": "complex_inquiry",
          "message": "Estou planejando um dia de spa para minha mãe",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Estou planejando um dia de spa para minha mãe"
          }
        },
        {
          "scenario": "complex_inquiry",
          "message": "Ela tem 65 anos e pele sensível",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Ela tem 65 anos e pele sensível"
          }
        },
        {
          "scenario": "complex_inquiry",
          "message": "Quais tratamentos vocês recomendam?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Quais tratamentos vocês recomendam?"
          }
        },
        {
          "scenario": "complex_inquiry",
          "message": "Quanto ficaria um pacote completo?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Quanto ficaria um pacote completo?"
          }
        },
        {
          "scenario": "complex_inquiry",
          "message": "Vocês têm estacionamento?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Vocês têm estacionamento?"
          }
        },
        {
          "scenario": "complex_inquiry",
          "message": "E desconto para idosos?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "E desconto para idosos?"
          }
        }
      ]
    },
    "complaint_handling": {
      "total_messages": 5,
      "successful_messages": 0,
      "failed_messages": 5,
      "messages": [
        {
          "scenario": "complaint_handling",
          "message": "Estou insatisfeito com o atendimento da semana passada",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Estou insatisfeito com o atendimento da semana passada"
          }
        },
        {
          "scenario": "complaint_handling",
          "message": "A profissional chegou 30 minutos atrasada",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "A profissional chegou 30 minutos atrasada"
          }
        },
        {
          "scenario": "complaint_handling",
          "message": "E o tratamento não ficou como esperado",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "E o tratamento não ficou como esperado"
          }
        },
        {
          "scenario": "complaint_handling",
          "message": "Gostaria de uma solução para isso",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Gostaria de uma solução para isso"
          }
        },
        {
          "scenario": "complaint_handling",
          "message": "Sim, aceito um desconto no próximo atendimento",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Sim, aceito um desconto no próximo atendimento"
          }
        }
      ]
    },
    "business_hours": {
      "total_messages": 5,
      "successful_messages": 0,
      "failed_messages": 5,
      "messages": [
        {
          "scenario": "business_hours",
          "message": "Vocês funcionam aos sábados?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Vocês funcionam aos sábados?"
          }
        },
        {
          "scenario": "business_hours",
          "message": "E domingo?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "E domingo?"
          }
        },
        {
          "scenario": "business_hours",
          "message": "Qual o horário de almoço?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Qual o horário de almoço?"
          }
        },
        {
          "scenario": "business_hours",
          "message": "Onde vocês ficam localizados?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Onde vocês ficam localizados?"
          }
        },
        {
          "scenario": "business_hours",
          "message": "Como chegar de transporte público?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Como chegar de transporte público?"
          }
        }
      ]
    },
    "multi_topic_conversation": {
      "total_messages": 7,
      "successful_messages": 0,
      "failed_messages": 7,
      "messages": [
        {
          "scenario": "multi_topic_conversation",
          "message": "Oi! Queria saber sobre massagem",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Oi! Queria saber sobre massagem"
          }
        },
        {
          "scenario": "multi_topic_conversation",
          "message": "Mas antes, vocês fazem sobrancelha?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Mas antes, vocês fazem sobrancelha?"
          }
        },
        {
          "scenario": "multi_topic_conversation",
          "message": "Voltando à massagem, qual o preço?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Voltando à massagem, qual o preço?"
          }
        },
        {
          "scenario": "multi_topic_conversation",
          "message": "E depilação, vocês fazem também?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "E depilação, vocês fazem também?"
          }
        },
        {
          "scenario": "multi_topic_conversation",
          "message": "Ok, mas sobre a massagem, posso agendar para hoje?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Ok, mas sobre a massagem, posso agendar para hoje?"
          }
        },
        {
          "scenario": "multi_topic_conversation",
          "message": "Na verdade, prefiro agendar a sobrancelha mesmo",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Na verdade, prefiro agendar a sobrancelha mesmo"
          }
        },
        {
          "scenario": "multi_topic_conversation",
          "message": "Para amanhã de manhã",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Para amanhã de manhã"
          }
        }
      ]
    },
    "edge_cases": {
      "total_messages": 6,
      "successful_messages": 0,
      "failed_messages": 6,
      "messages": [
        {
          "scenario": "edge_cases",
          "message": "asdfghjkl",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "asdfghjkl"
          }
        },
        {
          "scenario": "edge_cases",
          "message": "😀😃😄😁😆😅😂🤣",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "😀😃😄😁😆😅😂🤣"
          }
        },
        {
          "scenario": "edge_cases",
          "message": "QUERO AGENDAR AGORA!!!!!",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "QUERO AGENDAR AGORA!!!!!"
          }
        },
        {
          "scenario": "edge_cases",
          "message": "vocês fazem botox? e preenchimento? e harmonização facial?",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "vocês fazem botox? e preenchimento? e harmonização facial?"
          }
        },
        {
          "scenario": "edge_cases",
          "message": "123456789",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "123456789"
          }
        },
        {
          "scenario": "edge_cases",
          "message": "Obrigado pela atenção, até logo!",
          "result": {
            "status_code": 403,
            "response": "{\"detail\":\"Webhook inválido\"}",
            "message_sent": "Obrigado pela atenção, até logo!"
          }
        }
      ]
    }
  }
}